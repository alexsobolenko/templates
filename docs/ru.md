# BOOK-STORAGE üá∑üá∫

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å —ç—Ç–∞–ª–æ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, —Ä–æ–ª—è–º–∏, CRUD-–ª–æ–≥–∏–∫–æ–π –∏ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Ç–æ—á–∫—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö.

## üìñ –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–°–∞–π—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–Ω–∏–≥. –ù—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–∏—Å–µ–º –Ω–∞ –ø–æ—á—Ç—É. –ú–æ–¥–µ–ª–∏ (—Å—É—â–Ω–æ—Å—Ç–∏) - –∫–Ω–∏–≥–∞, –∞–≤—Ç–æ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∫–Ω–∏–≥ –∏ –∏—Ö –¥–µ—Ç–∞–ª–∏. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∫–Ω–∏–≥–∏. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤, –∫–Ω–∏–≥–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## ‚öôÔ∏è –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### üñ•Ô∏è –ë—ç–∫‚Äë—ç–Ω–¥

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å—Ç–µ–∫–∞. –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
* –°–∞–º–æ–ø–∏—Å–Ω—ã–π MVC –Ω–∞ —á–∏—Å—Ç–æ–º PHP 8.5
* Symfony
* Laravel
* Yii2
* Ruby on Rails
* Golang

### üê≥ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ Docker‚ÄØCompose 

1. `web` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ php/ruby/go)
2. `db` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ mysql/postgres, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–ª—è sqlite –Ω–µ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
3. `nginx` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
4. `mailcatcher` (—Ç–æ–ª—å–∫–æ –¥–ª—è dev –æ–∫—Ä—É–∂–µ–Ω–∏—è)
5. `redis` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —Å–µ—Å—Å–∏–∏/–∫–µ—à)

### üóÑÔ∏è –°–£–ë–î

* MySQL / MariaDB
* PostgreSQL
* SQLite3

### üåê –§—Ä–æ–Ω—Ç‚Äë—ç–Ω–¥

–°–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (PHP / ERB / Twig / Blade / Go templates), CSS –±–µ–∑ —Å–±–æ—Ä—â–∏–∫–æ–≤, JavaScript ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX (–±–µ–∑ SPA).

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
* –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ—á—Ç—ã
* –†–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
* –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
* CSRF
* XSS –∑–∞—â–∏—Ç–∞
* Reset password
* Rate-limit

### ‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ

–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–Ω–∏–≥–∏ –∏ –∞–≤—Ç–æ—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

### üõ†Ô∏è –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

CRUD‚Äë–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–Ω–∏–≥, –∞–≤—Ç–æ—Ä–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü –ë–î

–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –º–æ–¥–µ–ª—å. –í –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã, –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞, —è–∑—ã–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π Symfony, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã Laravel, conventions Rails) –∏–ª–∏ –°–£–ë–î, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

### `users`

| –ü–æ–ª–µ |–¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–Ω–¥–µ–∫—Å—ã / –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---|---|---|---|
| `id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | PK |
| `email` | `VARCHAR(255)` | –¥–∞ | UNIQUE |
| `password_hash` | `VARCHAR(255)` | –¥–∞ | - |
| `username` | `VARCHAR(100)` | –¥–∞ | UNIQUE |
| `is_admin` | `BOOLEAN` | –¥–∞ | INDEX |
| `email_verified_at` | `TIMESTAMP` / `DATETIME_IMMUTABLE` | –Ω–µ—Ç | INDEX |
| `verification_token` | `VARCHAR(255)` | –Ω–µ—Ç | INDEX | 
| `created_at` | `TIMESTAMP` / `DATETIME_IMMUTABLE` | –¥–∞ | INDEX |
| `updated_at` | `TIMESTAMP` / `DATETIME_IMMUTABLE` | –¥–∞ | - |

#### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
* `is_admin` ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Ä–æ–ª—è–º.
* –í Symfony/Laravel –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ roles-–º–µ—Ö–∞–Ω–∏–∑–º.
* –ü–∞—Ä–æ–ª—å ‚Äî —Ç–æ–ª—å–∫–æ —Ö–µ—à, –Ω–∏–∫–∞–∫–∏—Ö plaintext –¥–∞–∂–µ ¬´–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞¬ª.

### `authors`

| –ü–æ–ª–µ |–¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–Ω–¥–µ–∫—Å—ã / –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---|---|---|---|
| `id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | PK |
| `name` | `VARCHAR(255)` | –¥–∞ | INDEX | 
| `created_at` | `TIMESTAMP` / `DATETIME_IMMUTABLE` | –¥–∞ | INDEX |
| `updated_at` | `TIMESTAMP` / `DATETIME_IMMUTABLE` | –¥–∞ | - |

### `books`

| –ü–æ–ª–µ |–¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–Ω–¥–µ–∫—Å—ã / –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---|---|---|---|
| `id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | PK |
| `title` | `VARCHAR(255)` | –¥–∞ | INDEX | 
| `price` | `INTEGER` | –¥–∞ | - | 
| `preview` | `TEXT` | –Ω–µ—Ç | - |
| `created_at` | `TIMESTAMP` / `DATETIME_IMMUTABLE` | –¥–∞ | INDEX |
| `updated_at` | `TIMESTAMP` / `DATETIME_IMMUTABLE` | –¥–∞ | - |

### `book_author_relations` (many-to-many)

| –ü–æ–ª–µ |–¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–Ω–¥–µ–∫—Å—ã / –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---|---|---|---|
| `book_id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | FK + INDEX |
| `author_id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | FK + INDEX |

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* PK (`book_id`, `author_id`)
* UNIQUE (`book_id`, `author_id`)
* ON DELETE CASCADE

### `user_book_favs` (many-to-many)

| –ü–æ–ª–µ |–¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–Ω–¥–µ–∫—Å—ã / –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---|---|---|---|
| `book_id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | FK + INDEX |
| `user_id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | FK + INDEX |

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* PK (`book_id`, `user_id`)
* UNIQUE (`book_id`, `user_id`)
* ON DELETE CASCADE

### `user_author_favs` (many-to-many)

| –ü–æ–ª–µ |–¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–Ω–¥–µ–∫—Å—ã / –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|---|---|---|---|
| `author_id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | FK + INDEX |
| `user_id` | `BIGINT` / `UUID v7 BINARY` | –¥–∞ | FK + INDEX |

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* PK (`user_id`, `author_id`)
* UNIQUE (`user_id`, `author_id`)
* ON DELETE CASCADE

## üìÅ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–ö–∞–∂–¥–∞—è –≤–µ—Ç–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –í–µ—Ç–∫–∞ master —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±–æ–±—â—ë–Ω–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –æ–ø–∏—Å—ã–≤–∞—é—â—É—é –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏.

* `master` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ
* `php-mysql` - —á–∏—Å—Ç—ã–π PHP + MySQL
* `php-postgres` - —á–∏—Å—Ç—ã–π PHP + PostgreSQL
* `php-sqlite` - —á–∏—Å—Ç—ã–π PHP + SQLite
* `symfony-mysql` - Symfony + MySQL
* `symfony-postgres` - Symfony + PostgreSQL
* `symfony-sqlite` - Symfony + SQLite
* `yii2-mysql` - Yii2 + MySQL
* `yii2-postgres` - Yii2 + PostgreSQL
* `yii2-sqlite` - Yii2 + SQLite
* `laravel-mysql` - Laravel + MySQL
* `laravel-postgres` - Laravel + PostgreSQL
* `laravel-sqlite` - Laravel + SQLite
* `ruby-mysql` - Ruby on Rails + MySQL
* `ruby-postgres` - Ruby on Rails + PostgreSQL
* `ruby-sqlite` - Ruby on Rails + SQLite
* `go-mysql` - Golang + MySQL
* `go-postgres` - Golang + PostgreSQL
* `go-sqlite` - Golang + SQLite
